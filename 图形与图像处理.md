# 图形与图像处理

## 1、图形学基础知识

### 1.1、图形学的概念

计算机图形学：使用数学运算将二维或三维图形转化为计算机显示器的栅格形式的科学

计算机图形学处理（从无-3D或2D）

- 图形及虚拟世界：布局、光照（真实感）
- 解决问题及目标：如何逼真生成虚拟3D场景

数字图形处理（从2D-2D处理图像）

- 2D：经过采集设备获取的（例如：照相机）
- 解决问题及目标：改善2D图像的质量（去噪、增强），进一步识别目标、对内容进行理解

### 1.2、计算机图形学研究的问题

问题1、建模：几何模型表达问题

问题2、绘制问题（渲染）

- 任务：三维几何模型绘制问题，产生真实感图像
- 光照模型、光线跟踪算法

问题3：动画

- 任务：高度物理真实感的动态模拟

问题4：人机交互

- 任务：如何使人与计算机之间便捷直观

### 1.3、图形设备

图形输出包括图形的显示和图形的绘制

- 图形显示指的是在屏幕上输出图形
- 图形绘制通常指把图形画在纸上，也称硬拷贝，打印机和绘图仪是最常用的两种硬拷贝设备

### 1.4、图形几何变换

几何变换：

- 图形的几何变换是指对图形的几何信息经过平移、比例、旋转等变换后产生新的图形，是图形在方向、尺寸和形状方面的变换

### 1.5、光照模型与绘制

光照模型：计算某一点光的强度的模型

Phong光照明模型：属于简单光照模型，简单光照模型模拟物体表面对光的反射作用

镜面反射：光滑物体表面对光的反射

整体光照模型

- 简单光照模型不考虑周围环境对当前景物表面的光照明影响，忽略了光在环境景物环境之间的传递，很难表现自然界复杂场景的高质量真实感图形
- 在整体光照模型中，物体表面入射光的构成1、光源直接照射2、其他物体的反射光3、透射光

## 2、机器学习基础

输入X------------------>模型--------->输出y

训练样本（x,y）------>学习算法

**模型形式和参数**：学习过程中始终回答这两个问题

机器学习约等于寻找一个函数

有监督学习：有答案（有输出）、

无监督学习：用来学习的数据不包含输出结果

过拟合：在训练数据上表现良好，在未知数据集表现差

欠拟合：训练集和测试集表现都不好



图像预处理过程：对训练集数据进行



深度学习三个步骤：

1、定义一组函数

2、模型和数据拟合

3、选择最优函数



神经元：激活和抑制状态

神经元：是人工神经网络的基本处理单元，一般是多输入单输出单元

![image-20200612143944516](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20200612143944516.png)



**卷积神经网络（CNN）**：

ＣＮＮ 的基本结构由输入层、卷 积 层、池 化 层（ 取 样层）、全连接层及输出层构成。卷积层和池化层一般会取若干个，采用卷积层和池化层交替设置，即一个卷积层连接一个池化层，池化层后再连接一个卷积层，依此类推。由于卷积层中输出特征面的每个神经元与其输入进行局部连接，并通过对应的连接权值与局部输入进行加权求和再加上偏置值，得到该神经元输入值，该过程等同于卷积过程，ＣＮＮ 也由此而得名。

**卷积层**：用卷积来代替全连接

卷积层由多个特征面组成，每个特征面由多个神经元组成，它的每一个神经元通过卷积核与上一层特征面的局部区域相连．

**池化**：池化层紧跟在卷积层之后，同样由多个特征面组成，它的每一个特征面唯一对应于其上一层的一个特征面，不会 改 变 特 征 面 的 个 数。池化层起到二次提取特征的作用，它的每个神经元对局部接受域进行池化操作．常用的池化方法有最大池化即取局部接受域中值最大的点、均值池化即对局部接受域中的所有 值 求 均 值、随 机 池 化。

**全连接层**：在ＣＮＮ结构中，经多个卷积层和池化层后，连接着１个或１个以上的全连接层．全连接层中的每个神经元与其前一层的所有神经元进行全连接．全连接层可以整合卷积层或者池化层中具有类别区分性的局部信息。

**特征面**：特征面数 目 作 为 ＣＮＮ 的 一 个 重 要 参 数，它 通常是根据实际应用进行设置的，如果特征面个数过少，可能会使一些有利于网络学习的特征被忽略掉，从而不利于网络的学习；但是如果特征面个数过多，可训练参数个数及网络训练时间也会增加，这同样不利于学习 网 络 模 型

**反卷积**：ＣＮＮ 是一种自底而上的方法，其输入信号经过多层的卷积、非线性变换和下采样处理．而反卷积网络中的每层信息是自顶而下的，它对由已学习的滤波器组与特征面进行卷积后得到的特征求和就能重构输入信号。





分类的问题：总是把结果进行分成不同类型

合成的问题：合成新的结果



Tensorflow

PyTorch：不需要手动进行反向传播



## 3、图像处理基础

### 3.1、图像概念及实例

像素，宽×高

**灰度图像**：对于单色（灰度）图像而言，每个像素的亮度用一个数值来表示（0-255，0表示黑，255表示白）

**彩色图像**：对于彩色图形而言，每个像素用一个三元组（RGB）组成

图像处理的目的：改善图像质量，便于解释；为了存储、传输

### 3.2、数字图像处理基础

大多数传感器的输出是连续电压波形

**采样和量化**

量化：是将连续的模拟信号转换成离散的数字的表示过程，函数取值的数字化被称为图像的量化，如量化到256个灰度级

空间分辨率：像素和dpi

上采样和下采样

对比度：最大灰度值除以最小灰度值，对比度更大，图像更清楚

对比敏感特性：对比敏感函数CSF

### 3.3、图像基本运算

- 图像的代数运算：加减乘除（减小于0，置0）

- 图像的逻辑运算：与、或、补（取反），必须二值化

  1、彩色图像灰值化

  2、二值化处理

- 图像的集合运算：平移、水平镜像、垂直镜像、旋转变换（绕图像中心点）、图像的缩放

### 3.4、图像的频域处理

- 频域和频域变换：时域又称为时间域，是描述信号在不同时刻的取值函数，自变量时间，因变量是信号的变化
- 傅里叶变换：去噪（中心化）

### 3.5、空域点处理

- 点运算：实际上是灰度到灰度的映射（像素位置不变，灰度改变）

  ​				通过图像中每个像素点灰度值进行计算，改善图像显示效果

  ​				点运算因其作用性质有时也被称为对比度增强、对比度拉伸或灰度变换

- 非线性点运算：对数变换、幂变换

- 直方图：拉升，图像更清晰



## 3、图像的增强

### 3.1、图像增强

图像在采集或者传输过程中，由于传输信道、采样系统质量较差，或受各种干扰的影响，而造成图像毛躁，这时，就需要对图像进行增强（平滑）处理。

### 3.2、空域的平滑

- 均值滤波：取领域内所有像素的平均值
- 加权平滑滤波
- 中值滤波

### 3.3、空域的锐化技术

加强图像轮廓，使图像看起来比较清晰

### 3.4、频域处理

- 理想低通滤波器
- 巴特沃斯低通滤波器
- 指数型低通滤波器：高频分量相对突出，低频和甚高分量相对抑制

### 3.5、智能图像去噪技术

自动编码器：给定一个神经网络，假设其输出和输入是相同的，然后训练调整其参数，得到每一层的权重。尽可能复现输入信号的神经网络

### 3.6、智能图像暗光增强技术

LLnet网络：利用非线性方法模拟暗光的输入条件，对自然光进行变暗处理，构建训练数据集，经过训练，该网络可以增强暗光图像。

## 4、图像复原

### 4.1、图像退化

图像退化：图像在形成、记录、处理和传输过程中，由于成像系统、记录设备、传输介质和处理方法不完善，从而导致图像质量下降

图像复原：就是对退化的图像进行处理，试图恢复损坏的图像，还原真面目

图像增强：改善图像质量

### 4.2、图像退化与数学模型

通常将退化原因作为线性系统退化的一个因素，从而建立系统退化模型来近似描述图像函数的退化

### 4.3、图像中的噪声模型

数字图像中的噪声源来自图像获取（将连续转为数字）以及传输过程

### 4.4、图像修复Inpainting技术



## 5、图像的语义分割

### 5.1、什么是图像分割

图像分割就是把图像分成若干个特定的、具有独特性质的区域并提出感兴趣目标的技术和过程。它是由图像处理到图像分析的关键步骤。现有的图像分割方法主要分以下几类：基于阈值的分割方法、基于区域的分割方法、基于边缘的分割方法以及基于特定理论的分割方法等。

### 5.2、图像分割的目的及本质

**图像分割与语义分割**

- 分割：传统的分割（灰度、颜色）
- 深度学习：语义分割

### 5.3、阈值分割法

简单阙值：直方图

全局阙值迭代法：选择一个初始化阙值T，迭代优化阙值结果

OTSU方法（最大类间方差法）

### 5.4、智能图像分割技术

图像语义分割

像素级分割

介绍AlexNet网络、FCN、SegNet

## 6、彩色化和风格化

### 6.1、图像伪彩色处理

- 伪彩色：是指将灰度图像转化为彩色图像或者将单色图像变换成给定彩色分布的图像
- 常用的方法有强度分层法和灰度级到彩色变换法两种

### 6.2、色彩模型

- 自然界的颜色可以分解成三种基本颜色（三原色）

### 6.3、基于深度学习的彩色化

**图像的伪彩色化实例1----深度神经网络**

**图像的伪彩色化实例2----卷积神经网络CNN**

**图像的伪彩色化实例3----CNN, User-Guided**

### 6.4、风格迁移技术

**图像风格化**：将一张照片渲染成有艺术风格的画作

**图像风格迁移**是指利用算法学习现有图像风格，再把将其移植到另一张目标图像中去   输入：内容图和风格图   输出：风格迁移后的结果图

两种方法：

**基于在线图像优化的慢速图像风格化迁移算法**

**基于离线模型优化的快速图像风格化迁移算法**













